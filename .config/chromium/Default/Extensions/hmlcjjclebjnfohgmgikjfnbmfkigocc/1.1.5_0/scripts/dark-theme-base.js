"use strict";function injectCSS(e,t){try{var n=document.createElement("style");n.textContent=t,n.id=e,document.getElementsByTagName("head")[0].appendChild(n)}catch(c){}}function init(e,t){if(e){var n=t+"_dark_theme",c="custom_"+n,a={};a[n]=!1,a[c]=null,chrome.storage.sync.get(a,function(e){var a=e[c];e[n]&&chrome.runtime.sendMessage({cmd:"inject_"+t+"_dark_theme"}),null!==a&&a.length>0&&injectCSS(c,a)}),chrome.runtime.onMessage.addListener(function(e,t,n){if("update_custom_css"===e.cmd.toLowerCase()){var a={};a[c]=null,chrome.storage.sync.get(a,function(e){var t=e[c];if(null!==t&&t.length>0){var n=document.getElementById(c);null===n?injectCSS(c,t):n.textContent=t}})}})}}