"use strict";!function(e,t){function n(e){return["facebook","google","youtube"].indexOf(e)>-1}function o(){try{var e=new URL(window.top.location.href).searchParams.get("website");return n(e)?e:"facebook"}catch(t){return console.error(t.message),"facebook"}}t.runtime.sendMessage({cmd:"track_page_view",path:"/dark-theme-editor.html"}),new Vue({el:"#main",methods:{i18n:function(e){return t.i18n.getMessage(e)}}}),e(document).ready(function(e){var r=e("#website"),a=e("#form");r.on("change",function(e){e.preventDefault();var o=r.val().toLowerCase();n(o)&&(window.top.location.href=t.extension.getURL("dark-theme-editor.html?website="+o))}),a.submit(function(n){var o=e("#css").val(),a=r.val(),s=e("#save-btn");s.button("loading");var c="custom_"+a+"_dark_theme",u={};u[c]=o,t.storage.sync.set(u,function(){setTimeout(function(){s.button("reset")},500),t.runtime.lastError?console.log(t.runtime.lastError.message):t.runtime.sendMessage({cmd:"update_custom_css",website:a})}),n.preventDefault()}),e("#clear-btn").on("click",function(){e("#css").val("").focus()});var s=o()||"facebook";e("#website").val(s);var c="custom_"+s+"_dark_theme",u={};u[c]=null,t.storage.sync.get(u,function(t){null!==t[c]&&e("#css").val(t[c])})})}(jQuery,chrome);