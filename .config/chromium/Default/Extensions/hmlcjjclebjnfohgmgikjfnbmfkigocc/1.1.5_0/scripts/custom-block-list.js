"use strict";!function(t,n){n.runtime.sendMessage({cmd:"track_page_view",path:"/custom-block-list.html"}),new Vue({el:"#main",methods:{i18n:function(t){return n.i18n.getMessage(t)}}}),t(document).ready(function(t){var o=t("#blocklist");n.storage.sync.get({blocklist:null},function(t){null!==t.blocklist&&o.val(t.blocklist)});var e=t("#form");e.submit(function(e){var i=t("#save-btn");i.button("loading");var a=o.val();if(a.length>0){var l=_.uniq(a.split("\n"));a=l.filter(function(t){return t.startsWith("http:")||t.startsWith("https:")||t.startsWith("*://")}).join("\n")}n.storage.sync.set({blocklist:a},function(){setTimeout(function(){i.button("reset")},500),o.val(a).focus(),n.runtime.sendMessage({cmd:"update_custom_blocklist"})}),e.preventDefault()});var i=t("#form-import");i.submit(function(n){var e=t("#import-url").val();if(e.length>7){var i=t("#import-btn");i.button("loading"),t.ajax({url:e,type:"GET",dataType:"default",cache:!1}).always(function(n){200===n.status&&(o.val(o.val()+"\n"+n.responseText),t("#import-url").val("")),i.button("reset"),t("#modal-import").modal("hide")})}n.preventDefault()}),t("#clear-btn").click(function(){o.val("").focus()}),t("#modal-import").on("shown.bs.modal",function(){t("#import-url").focus()}),t("#modal-help, #modal-import").on("hidden.bs.modal",function(){setTimeout(function(){o.focus()},100)})})}(jQuery,chrome);