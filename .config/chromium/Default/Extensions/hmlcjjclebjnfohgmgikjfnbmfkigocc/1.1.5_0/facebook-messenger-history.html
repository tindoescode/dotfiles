<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,shrink-to-fit=no" name="viewport"><title>J2TEAM Security</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200&display=swap"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="styles/juno_okyo.css"><link rel="stylesheet" href="styles/messenger.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mediaelement/4.2.12/mediaelementplayer.min.css"><style>.input-group-fix .input-group-prepend, .input-group-fix input, .input-group-fix button {height: 44px;}</style></head><body><div class="wrapper" id="wrapper"><div class="sidebar" id="sidebar" data-color="blue" data-image="https://i.imgur.com/zfvF5UR.jpg"><sidebar-content></sidebar-content></div><div class="main-panel"><nav class="navbar navbar-expand-lg" id="j2team-security-navbar"><navbar-content></navbar-content></nav><div class="content" id="main"><div class="container-fluid"><div class="row"><div class="col-md-12"><div class="card"><div class="card-header"><h4 class="card-title">Facebook Messenger History</h4></div><div class="card-body"><form action="#" method="POST" role="form" v-on:submit.prevent="startScan"><div class="form-group"><label for="url">Facebook User URL</label><div class="input-group mb-3 input-group-fix"><div class="input-group-prepend"><span class="input-group-text" id="basic-addon1"><i class="fa fa-link"></i></span></div><input type="url" class="form-control" id="url" v-model="url" placeholder="https://www.facebook.com/J2TEAM.ManhTuan" aria-label="Username" aria-describedby="basic-addon1" required autofocus><div class="input-group-append"><button type="submit" class="btn btn-outline-secondary" v-bind:disabled="loading"><i class="fa fa-search"></i> {{loading ? (mid === null ? 'Loading...' : formatTime(mid)) : 'Scan'}}</button></div></div></div></form><div class="text-center" v-if="loading"><img src="images/fb-loading.gif" alt="loading" width="32px" height="32px"></div><div class="alert alert-danger" v-if="error"><strong>Error!</strong> There is no result.</div><div class="hr-wrapper" v-if="result !== null && result.length > 0 && !loading"><hr><span>Result</span></div><ul class="list-unstyled" v-if="result !== null && result.length > 0 && !loading"><li class="media my-3" v-for="el in result"><a :href="'https://www.facebook.com/profile.php?id=' + el.message_sender.id" target="_blank" v-if="el.message"><img class="media-object avatar mr-3" :src="getAvatar(el.message_sender.id)" :alt="getName(el.message_sender.id)" width="50" height="50"></a><div class="media-body" v-if="el.message"><h5 class="mt-0 mb-1"><a :href="'https://www.facebook.com/profile.php?id=' + el.message_sender.id" target="_blank">{{getName(el.message_sender.id)}}</a> <small>{{formatTime(el.timestamp_precise)}}</small></h5><span class="message" v-bind:class="{'my-message': isMyMessage(el.message_sender.id)}" v-if="el.blob_attachments.length > 0 && el.blob_attachments[0].url"><a :href="el.blob_attachments[0].url" target="_blank"><span class="glyphicon glyphicon-circle-arrow-down" aria-hidden="true"></span> {{el.blob_attachments[0].filename}}</a> </span><a :href="el.blob_attachments[0].large_preview.uri" v-if="el.blob_attachments.length > 0 && el.blob_attachments[0].preview" target="_blank"><img :src="el.blob_attachments[0].preview.uri" :width="el.blob_attachments[0].preview.width" :height="el.blob_attachments[0].preview.height"></a><video controls preload="auto" :width="el.blob_attachments[0].inbox_image.width" :height="el.blob_attachments[0].inbox_image.height" :poster="el.blob_attachments[0].inbox_image.uri" v-if="el.blob_attachments.length > 0 && el.blob_attachments[0].video_type"><source :src="el.blob_attachments[0].playable_url" type="video/mp4"></video><audio controls preload="auto" v-if="el.blob_attachments.length > 0 && el.blob_attachments[0].audio_type"><source :src="el.blob_attachments[0].playable_url" type="video/mp4"></audio><img :src="el.sticker.url" v-if="el.sticker !== null && el.sticker.url" height="100"> <span class="message" v-bind:class="{'my-message': isMyMessage(el.message_sender.id)}" v-if="el.sticker === null && el.blob_attachments.length === 0">{{el.message.text.length > 0 ? el.message.text : '[attachment]'}}</span></div></li><li class="media my-3" v-for="el in results"><a :href="'https://www.facebook.com/profile.php?id=' + el.author.substr(5)" target="_blank" v-if="el.message_id && el.action_type === 'ma-type:user-generated-message'"><img class="media-object avatar mr-3" :src="getAvatar(el.author.substr(5))" :alt="getName(el.author.substr(5))" width="50" height="50"></a><div class="media-body" v-if="el.message_id && el.action_type === 'ma-type:user-generated-message'"><h5 class="mt-0 mb-1"><a :href="'https://www.facebook.com/profile.php?id=' + el.author.substr(5)" target="_blank">{{getName(el.author.substr(5))}}</a> <small>{{formatTime(el.timestamp)}}</small></h5><span class="message" v-bind:class="{'my-message': isMyMessage(el.author.substr(5))}" v-if="el.has_attachment && el.attachments[0].attach_type === 'file' && el.attachments[0].icon_type === 'attach:unknown'"><a :href="el.attachments[0].url" target="_blank"><span class="glyphicon glyphicon-circle-arrow-down" aria-hidden="true"></span> {{el.attachments[0].name}}</a> </span><a :href="el.attachments[0].large_preview_url" v-if="el.has_attachment && el.attachments[0].attach_type === 'photo'" target="_blank"><img :src="el.attachments[0].preview_url" :width="el.attachments[0].preview_width" :height="el.attachments[0].preview_height"></a><video controls preload="auto" :width="el.attachments[0].metadata.inbox_size.width" :height="el.attachments[0].metadata.inbox_size.height" :poster="el.attachments[0].metadata.inbox_preview" v-if="el.has_attachment && el.attachments[0].attach_type === 'video'"><source :src="el.attachments[0].url" type="video/mp4"></video><audio controls preload="auto" v-if="el.has_attachment && el.attachments[0].attach_type === 'file' && el.attachments[0].icon_type === 'attach:music'"><source :src="el.attachments[0].url" type="video/mp4"></audio><img :src="el.attachments[0].url" v-if="el.has_attachment && el.attachments[0].attach_type === 'sticker'" height="100"> <span class="message" v-bind:class="{'my-message': isMyMessage(el.author.substr(5))}" v-if="el.has_attachment && el.attachments[0].attach_type === 'share'"><a :href="el.attachments[0].share.uri" target="_blank">{{el.attachments[0].share.uri}}</a> </span><span class="message" v-bind:class="{'my-message': isMyMessage(el.author.substr(5))}" v-if="el.body && !el.has_attachment">{{el.body.length > 0 ? el.body : '[attachment]'}}</span></div></li></ul><div class="text-center" v-if="result !== null && result.length > 0 && !loading && show_load_more"><button type="button" class="btn btn-wd btn-info btn-outline" v-on:click="loadMoreMessages" v-bind:disabled="loading_more"><i class="fa fa-refresh"></i> {{loading_more ? 'Loading...' : 'Load more...'}}</button></div></div></div></div></div></div></div><footer class="footer" id="footer"><footer-content></footer-content></footer></div></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script><script src="scripts/light-bootstrap-dashboard.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"></script><script src="scripts/template.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/date-fns/1.30.1/date_fns.min.js"></script><script src="scripts/facebook-messenger-history.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mediaelement/4.2.12/mediaelement-and-player.min.js"></script></body></html>